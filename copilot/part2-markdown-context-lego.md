# PARTIE 2: Fichiers Markdown comme "MÃ©moire LEGO" du Contexte

## Concept: Les fichiers Markdown = Briques LEGO de Contexte

**La mÃ©taphore LEGO:**
```
Chaque fichier markdown = une brique LEGO avec un "connecteur" spÃ©cial

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BRIQUE ARCHITECTURE                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ # Architecture du systÃ¨me                        â”‚   â”‚
â”‚  â”‚ - Microservices pattern                          â”‚   â”‚
â”‚  â”‚ - Event-driven communication                     â”‚   â”‚
â”‚  â”‚ - API Gateway: Kong                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  CONNECTEUR: ".github/copilot-instructions.md" â†’       â”‚
â”‚              Voir @ARCHITECTURE.md                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BRIQUE PRODUIT                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ # Vision Produit                                 â”‚   â”‚
â”‚  â”‚ - User management SaaS                           â”‚   â”‚
â”‚  â”‚ - Multi-tenant avec isolation par client        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  CONNECTEUR: "Pour comprendre le contexte business"     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BRIQUE GUIDES                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ # Guidelines de dÃ©veloppement                    â”‚   â”‚
â”‚  â”‚ - Tests obligatoires pour tout nouveau code      â”‚   â”‚
â”‚  â”‚ - Code review obligatoire                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  CONNECTEUR: "Suites les guidelines de..."             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

           â†“ ASSEMBLAGE â†“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CONTEXTE COMPLET POUR COPILOT               â”‚
â”‚  Architecture + Produit + Guidelines = ComprÃ©hension    â”‚
â”‚             complÃ¨te du "pourquoi" et "comment"         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Pourquoi LEGO ?**
- **Modulaire:** Chaque fichier est autonome
- **Assemblable:** On combine ce dont on a besoin
- **RÃ©utilisable:** La mÃªme brique sert Ã  plusieurs constructions
- **Extensible:** On ajoute des briques au fur et Ã  mesure

---

## Les 4 Types de Briques LEGO Contextuelles

### Type 1: BRIQUE ARCHITECTURE (ARCHITECTURE.md)

**RÃ´le:** Expliquer COMMENT le systÃ¨me est construit

**Contenu idÃ©al (max 2 pages):**
```
# Architecture du SystÃ¨me

## Pattern Global
- Microservices avec communication Ã©vÃ©nementielle
- Chaque service est indÃ©pendant et possÃ¨de sa propre DB

## Technologies ClÃ©s
- Backend: Node.js + TypeScript
- Frontend: React + Next.js
- Database: PostgreSQL (par service)
- Message Queue: RabbitMQ

## DÃ©cisions Architecturales
- Pourquoi microservices ? â†’ ScalabilitÃ© per-service
- Pourquoi PostgreSQL ? â†’ Transactions ACID nÃ©cessaires
- Pourquoi RabbitMQ ? â†’ FiabilitÃ© des messages

## Points d'EntrÃ©e
- API Gateway: port 3000
- Auth Service: port 3001
- User Service: port 3002
```

**Quand Copilot l'utilise:**
- Vous demandez: "Ajoute un nouveau endpoint"
- Copilot sait: "C'est un microservice, donc je dois crÃ©er la route, le handler, et publier un Ã©vÃ©nement"

### Type 2: BRIQUE PRODUIT (PRODUCT.md)

**RÃ´le:** Expliquer POURQUOI le systÃ¨me existe

**Contenu idÃ©al (max 2 pages):**
```
# Vision et FonctionnalitÃ©s Produit

## Notre Mission
Permettre aux entreprises de gÃ©rer leurs utilisateurs avec une expÃ©rience SaaS fluide.

## FonctionnalitÃ©s Principales
1. **Authentification:** Email/password, OAuth, SSO
2. **Gestion utilisateur:** CRUD complet, rÃ´les, permissions
3. **Multi-tenancy:** Isolation complÃ¨te des donnÃ©es clients

## User Stories Prioritaires
- En tant qu'admin, je peux gÃ©rer les utilisateurs de mon organisation
- En tant que dev, je peux intÃ©grer l'auth via API
- En tant qu'utilisateur, je peux reset mon password myself

## Non-Fonctionnels
- Performance: < 200ms pour 95% des requÃªtes
- DisponibilitÃ©: 99.9% uptime SLA
- ScalabilitÃ©: Supporte 10k+ req/s
```

**Quand Copilot l'utilise:**
- Vous demandez: "ImplÃ©mente la feature X"
- Copilot sait: "Ah, c'est pour une gestion SaaS multi-tenant, donc je dois gÃ©rer l'isolation des donnÃ©es"

### Type 3: BRIQUE GUIDELINES (CONTRIBUTING.md ou GUIDELINES.md)

**RÃ´le:** Expliquer LES RÃˆGLES du jeu

**Contenu idÃ©al (max 1 page):**
```
# Guidelines de DÃ©veloppement

## RÃ¨gles de Codage
- TypeScript strict mode activÃ©
- Pas de `any`, utiliser les types explicites
- Fonctions max 50 lignes, sinon split
- Nommage: camelCase pour variables, PascalCase pour classes

## Test Requirements
- Tests unitaires obligatoires pour toute nouvelle fonction
- Couverture minimale: 80%
- Framework: Jest + Supertest pour API

## Code Review
- Toute PR doit Ãªtre reviewÃ©e par au moins 1 personne
- Les tests doivent passer avant merge
- Commentaires explicatifs pour code complexe

## Git Workflow
- Branch naming: `feature/`, `bugfix/`, `hotfix/`
- Commit messages: Conventional Commits
- Pas de commits direct sur `main`
```

**Quand Copilot l'utilise:**
- Vous demandez: "GÃ©nÃ¨re une nouvelle fonction"
- Copilot sait: "Je dois utiliser TypeScript strict, et gÃ©nÃ©rer aussi les tests unitaires"

### Type 4: BRIQUE INSTRUCTIONS (copilot-instructions.md)

**RÃ´le:** Le "chef d'orchestre" qui relie les briques

**Contenu idÃ©al:**
```
# [Nom du Projet] - Instructions pour Copilot

Tu es un assistant expert pour ce projet. Voici ton contexte:

## ğŸ¯ Objectif du Projet
Lire @PRODUCT.md pour comprendre la vision et les fonctionnalitÃ©s.

## ğŸ—ï¸ Architecture Technique
Lire @ARCHITECTURE.md pour comprendre la structure du systÃ¨me.

## ğŸ“‹ RÃ¨gles Ã  Suivre
Lire @GUIDELINES.md pour connaÃ®tre les standards de dÃ©veloppement.

## ğŸ”§ Comment Travailler

### Pour une Nouvelle FonctionnalitÃ©:
1. Comprendre le contexte business dans PRODUCT.md
2. VÃ©rifier l'architecture dans ARCHITECTURE.md
3. Suivre les guidelines de GUIDELINES.md
4. Toujours gÃ©nÃ©rer les tests unitaires
5. Toujours documenter le code

### Pour un Bugfix:
1. Identifier la racine du problÃ¨me
2. Corriger en suivant les patterns existants
3. Ajouter un test pour Ã©viter la rÃ©gression
4. Documenter le fix dans le code

### Pour une Refactor:
1. PrÃ©server le comportement existant
2. AmÃ©liorer la lisibilitÃ©/maintenabilitÃ©
3. Ne pas changer l'API publique
4. Mettre Ã  jour les tests si nÃ©cessaire

## âš ï¸ Ce qu'il Ne Faut PAS Faire
- Ne jamais utiliser de librairies non listÃ©es dans package.json
- Ne pas skip les tests "pour aller plus vite"
- Ne pas hardcoder de credentials
- Ne pas changer la structure de DB sans review

## ğŸ†˜ En Cas de Doute
Demande des clarifications plutÃ´t que de deviner.

**Note:** Si tu trouves des informations contradictoires dans ces documents, signale-le et demande confirmation.
```

**Quand Copilot l'utilise:**
- Ã€ **CHAQUE** interaction, ce fichier est automatiquement inclus
- Il agit comme un "meta-contexte" qui pointe vers les autres briques

---

## Le MÃ©canisme de "Connexion" des Briques

### Comment les fichiers se connectent entre eux

**SchÃ©ma de connexion:**
```
copilot-instructions.md
  â”‚
  â”œâ”€â†’ @PRODUCT.md
  â”‚     â””â”€â†’ Comprend le POURQUOI
  â”‚
  â”œâ”€â†’ @ARCHITECTURE.md
  â”‚     â””â”€â†’ Comprend le COMMENT
  â”‚
  â”œâ”€â†’ @GUIDELINES.md
  â”‚     â””â”€â†’ ConnaÃ®t les RÃˆGLES
  â”‚
  â””â”€â†’ @EXEMPLES.md (optionnel)
        â””â”€â†’ A des patterns Ã  suivre
```

### La syntaxe de connexion: @mentions

**Dans copilot-instructions.md:**
```markdown
## Contexte Projet
- Pour la vision produit: voir @PRODUCT.md
- Pour l'architecture technique: voir @ARCHITECTURE.md
- Pour les guidelines: voir @GUIDELINES.md
```

**RÃ©sultat:**
Quand Copilot voit `@PRODUCT.md`, il va lire le fichier et l'inclut dans le contexte de cette interaction.

---

## Visualisation: Le Contexte comme Assemblage LEGO

### Diagramme d'assemblage

**Ã‰TAT 1: Sans fichiers markdown (Contexte nu)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Prompt Utilisateur           â”‚
â”‚  "Ajoute une fonction login"    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Code existant (partiel)      â”‚
â”‚  - Quelques fichiers ouverts    â”‚
â”‚  - Peu de contexte              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    RÃ©ponse Copilot              â”‚
â”‚  âœ— GÃ©nÃ©ration gÃ©nÃ©rique         â”‚
â”‚  âœ— Pas de cohÃ©rence architectureâ”‚
â”‚  âœ— Pas de tests                 â”‚
â”‚  âœ— Pas de documentation         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ã‰TAT 2: Avec fichiers markdown (Contexte LEGO)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Prompt Utilisateur           â”‚
â”‚  "Ajoute une fonction login"    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    + BRIQUE ARCHITECTURE        â”‚
â”‚    "Microservices, JWT, etc."   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    + BRIQUE GUIDELINES          â”‚
â”‚    "Tests obligatoires, TS..."  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Code existant                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    RÃ©ponse Copilot              â”‚
â”‚  âœ“ Architecture cohÃ©rente       â”‚
â”‚  âœ“ Tests gÃ©nÃ©rÃ©s                â”‚
â”‚  âœ“ Documentation incluse        â”‚
â”‚  âœ“ Patterns respectÃ©s           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ConcrÃ¨tement: Comment les Utiliser

### ScÃ©nario 1: Nouvelle FonctionnalitÃ©

**Prompt:**
```
"ImplÃ©mente la fonctionnalitÃ© de reset de password"
```

**Sans markdown:**
- Copilot gÃ©nÃ¨re du code gÃ©nÃ©rique
- Pas de cohÃ©rence avec l'architecture existante
- Probablement pas de tests

**Avec markdown:**
1. Copilot lit `copilot-instructions.md`
2. Suit le lien vers `@PRODUCT.md` â†’ comprend que c'est une feature SaaS multi-tenant
3. Suit le lien vers `@ARCHITECTURE.md` â†’ sait qu'il faut utiliser le pattern microservices
4. Suit le lien vers `@GUIDELINES.md` â†’ gÃ©nÃ¨re les tests unitaires
5. GÃ©nÃ¨re une implÃ©mentation cohÃ©rente avec TOUT le contexte

### ScÃ©nario 2: Bug Fix

**Prompt:**
```
"Le login ne fonctionne pas avec les emails en majuscules"
```

**Avec markdown:**
1. Copilot vÃ©rifie `@GUIDELINES.md` â†’ voit que les tests sont obligatoires
2. Corrige le bug en normalisant l'email
3. Ajoute un test pour Ã©viter la rÃ©gression
4. Documente le fix dans le code

### ScÃ©nario 3: Refactor

**Prompt:**
```
"Refactor cette fonction pour qu'elle soit plus lisible"
```

**Avec markdown:**
1. Copilot lit `@GUIDELINES.md` â†’ voit "max 50 lignes par fonction"
2. Lit `@ARCHITECTURE.md` â†’ connaÃ®t les patterns du projet
3. Split la fonction en respectant les patterns
4. Met Ã  jour les tests

---

## Best Practices pour les Briques LEGO

### RÃ¨gle 1: Un fichier = Une responsabilitÃ©

**Mauvais:**
```markdown
# PROJECT.md
- Architecture (100 lignes)
- Guidelines (50 lignes)
- Product vision (80 lignes)
- Setup instructions (30 lignes)
- FAQ (40 lignes)
```

**Bon:**
```
PROJECT/
â”œâ”€â”€ ARCHITECTURE.md (100 lignes, architecture seulement)
â”œâ”€â”€ PRODUCT.md (80 lignes, vision seulement)
â”œâ”€â”€ GUIDELINES.md (50 lignes, rÃ¨gles seulement)
â””â”€â”€ copilot-instructions.md (connecte les briques)
```

### RÃ¨gle 2: KISS - Keep It Short & Simple

**RecommandÃ©:**
- ARCHITECTURE.md: max 2 pages
- PRODUCT.md: max 2 pages
- GUIDELINES.md: max 1 page

**Pourquoi ?**
- Copilot a un budget token limit
- L'info pertinente doit Ãªtre facile Ã  trouver
- Moins de texte = moins de bruit

### RÃ¨gle 3: Mises Ã  jour rÃ©guliÃ¨res

**Quand mettre Ã  jour:**
- Architecture change â†’ Update ARCHITECTURE.md
- Nouvelle guideline â†’ Update GUIDELINES.md
- Nouvelle feature â†’ Update PRODUCT.md

**Comment:**
- Utiliser Copilot lui-mÃªme !
- Prompt: "Update ARCHITECTURE.md with the new payment service"
- Review et valider le changement

### RÃ¨gle 4: Liens explicites entre briques

**Dans ARCHITECTURE.md:**
```markdown
## Database Schema
Pour les dÃ©tails sur les entitÃ©s business, voir @PRODUCT.md

## API Design
Pour les standards d'API, voir @GUIDELINES.md
```

**Dans PRODUCT.md:**
```markdown
## Performance Requirements
Pour savoir comment on implÃ©mente la performance, voir @ARCHITECTURE.md
```

---

## Exemples Concrets de Fichiers

### ARCHITECTURE.md - Exemple complet

```markdown
# Architecture Technique - UserAuth SaaS

## Pattern Global
Microservices avec isolation par client (multi-tenant)

## Services
1. **auth-service** (port 3001)
   - Gestion authentification
   - JWT tokens
   - OAuth integration

2. **user-service** (port 3002)
   - CRUD utilisateurs
   - Gestion des rÃ´les
   - Profil utilisateur

3. **notification-service** (port 3003)
   - Emails de bienvenue
   - Reset password
   - Notifications systÃ¨me

## Communication
- Events: RabbitMQ (fanout exchanges)
- REST: Inter-service communication
- GraphQL: Frontend â†’ Backend

## Data Storage
- PostgreSQL par service (isolÃ©)
- Redis pour sessions et cache
- S3 pour avatars users

## Deployment
- Docker containers
- Kubernetes orchestration
- Helm charts pour deployments

## Pour plus de dÃ©tails
- Business logic: @PRODUCT.md
- Development rules: @GUIDELINES.md
```

### GUIDELINES.md - Exemple complet

```markdown
# Guidelines de DÃ©veloppement

## RÃ¨gles de Codage
- TypeScript strict mode
- ESLint + Prettier obligatoires
- Pas de console.log en prod
- Variables explicites (pas de x, y, tmp)

## Structure de Code
```
src/
â”œâ”€â”€ controllers/  # Route handlers
â”œâ”€â”€ services/     # Business logic
â”œâ”€â”€ models/       # DB schemas
â”œâ”€â”€ utils/        # Helpers
â””â”€â”€ tests/        # Tests
```

## Tests
- Jest pour unit tests
- Supertest pour API tests
- Min 80% couverture
- Tests avant code (TDD)

## Git Workflow
- `feature/ticket-description`
- `feat:`, `fix:`, `docs:` prefixes
- PR description template obligatoire

## Documentation
- JSDoc pour fonctions exportÃ©es
- README dans chaque module
- Architecture updates pour changements majeurs
```

### copilot-instructions.md - Exemple complet

```markdown
# Copilot Instructions - UserAuth SaaS

Tu es l'assistant de dÃ©veloppement pour ce projet SaaS d'authentification.

## ğŸ“š Contexte obligatoire
Pour toute demande, lis d'abord:
- @ARCHITECTURE.md - comprends la structure microservices
- @PRODUCT.md - comprends le contexte SaaS multi-tenant
- @GUIDELINES.md - connais les rÃ¨gles de dÃ©veloppement

## ğŸ¯ Tes PrioritÃ©s

1. **CohÃ©rence architecture:** Respecte le pattern microservices
2. **Tests obligatoires:** Toujours gÃ©nÃ©rer/mettre Ã  jour les tests
3. **Type safety:** TypeScript strict, pas de `any`
4. **Documentation:** Commente le code complexe

## ğŸ”¨ Comment ImplÃ©menter une Feature

```
1. Comprendre le besoin ( PRODUCT.md)
2. Identifier le service concernÃ© ( ARCHITECTURE.md)
3. CrÃ©er/modifier les types TypeScript
4. ImplÃ©menter la business logic
5. Ã‰crire les tests (TDD si possible)
6. Documenter les changements
```

## âš ï¸ Ã€ Ã‰viter

- Ne pas mÃ©langer les services (un fichier = un service)
- Ne pas skip les tests "pour accÃ©lÃ©rer"
- Ne pas utiliser de lib non documentÃ©e
- Ne pas hardcoder de config (utiliser .env)

## ğŸ†˜ Quand tu doutes

Demande des clarifications plutÃ´t que de deviner.
Ex: "Dois-je crÃ©er un nouveau microservice ou Ã©tendre user-service ?"

## ğŸ“ Quand tu dÃ©tectes des incohÃ©rences

Si les docs (PRODUCT/ARCHITECTURE/GUIDELINES) se contredisent:
1. Signale-le explicitement
2. Propose une rÃ©solution
3. Demande confirmation avant d'implÃ©menter
```

---

## Visualisation: Flux de Travail avec Briques LEGO

### Diagramme sÃ©quence

```
DÃ©veloppeur              Fichiers Markdown              Copilot
    â”‚                          â”‚                          â”‚
    â”œâ”€ "CrÃ©e feature X"        â”‚                          â”‚
    â”‚                          â”‚                          â”‚
    â”‚                    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                   â”‚
    â”‚                    â”‚ copilot-  â”‚                   â”‚
    â”‚                    â”‚ instruct  â”‚                   â”‚
    â”‚                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                   â”‚
    â”‚                          â”‚                          â”‚
    â”‚                    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                   â”‚
    â”‚                    â”‚ @PRODUCT  â”‚                   â”‚
    â”‚                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                   â”‚
    â”‚                          â”‚                          â”‚
    â”‚                    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                   â”‚
    â”‚                    â”‚ @ARCH     â”‚                   â”‚
    â”‚                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                   â”‚
    â”‚                          â”‚                          â”‚
    â”‚                    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                   â”‚
    â”‚                    â”‚ @GUIDE    â”‚                   â”‚
    â”‚                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                   â”‚
    â”‚                          â”‚                          â”‚
    â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚                          â”‚   Contexte complet       â”‚
    â”‚                          â”‚   (Architecture +        â”‚
    â”‚                          â”‚    Product + Guidelines) â”‚
    â”‚                          â”‚                          â”‚
    â”‚                          â”‚                          â”‚
    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  Code gÃ©nÃ©rÃ© cohÃ©rent avec TOUT le contexte        â”‚
    â”‚  - Architecture respectÃ©e                           â”‚
    â”‚  - Tests inclus                                     â”‚
    â”‚  - Patterns respectÃ©s                               â”‚
    â”‚                                                     â”‚
```

---

## Conclusion: Les Briques LEGO en Pratique

### RÃ©sumÃ© des bÃ©nÃ©fices

âœ… **Contexte persistant:** Les docs survivent aux "nouveaux chats"
âœ… **CohÃ©rence:** Tout le code suit les mÃªmes patterns
âœ… **Onboarding:** Les nouveaux devs comprennent vite
âœ… **Moins de friction:** Copilot "devine" moins, "comprend" plus
âœ… **Scalable:** S'adapte Ã  la croissance du projet

### Quick Start

1. **CrÃ©ez ARCHITECTURE.md** (max 2 pages)
2. **CrÃ©ez PRODUCT.md** (max 2 pages)
3. **CrÃ©ez GUIDELINES.md** (max 1 page)
4. **CrÃ©ez copilot-instructions.md** avec des @mentions
5. **Testez:** Demandez Ã  Copilot d'implÃ©menter une feature
6. **ItÃ©rez:** Affinez les docs selon les rÃ©sultats

### Le Mindset

> Vos fichiers markdown ne sont pas de la documentation "passive".
> Ce sont des ACTIFS de contexte que Copilot utilise Ã  CHAQUE interaction.
>
> Investir dans ces docs = investir dans la qualitÃ© de Copilot.
